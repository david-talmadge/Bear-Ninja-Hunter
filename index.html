<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit-no">
    <meta name="author" content="David Talmadge">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Edu+AU+VIC+WA+NT+Guides:wght@400..700&family=Pacifico&display=swap" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet" type="text/css">
    <title>Bear-Ninja-Hunter</title>
  </head>
  <body>
    <p id="demo"></p>
    <script>
      var choices = ['Bear', 'Ninja', 'Hunter'];
      //Ask name
      var uName = prompt('Welcome to Bear Hunter Ninja! Please enter your name to get started: ');
      //State name
      alert(`Hi ${uName} Let's Play!!`);
      loop1();
      
      function loop1(){
        //Ask type
        let uType = checkType();
        if(uType!='cancel'){
          let sType = choices[Math.floor(Math.random()*choices.length)];
          //Set types to print
          let uPrintedType = `${uName}, You picked ${uType}!`;
          let sPrintedType = `Computer Picked ${sType}!`;
          //Print types to console
          let result = selectResult(uType, sType);
          console.log(uPrintedType);
          console.log(sPrintedType);
          console.log(result);
          alert(uPrintedType + "\n" + sPrintedType + "\n" + result);
          document.getElementById("demo").innerHTML = uPrintedType + "<br>" + sPrintedType + "<br>" + result;
          loop2();
        }
      }
      function checkType(){
         let uType = prompt('Who are you: Bear, Ninja, or Hunter? ');
         if(uType===null){
             alert("Press F5 to Play Again.");
             document.getElementById("demo").innerHTML = "Press F5 to Play Again.";
             return 'cancel';
         }
         switch(uType.toLowerCase()){
           case 'bear':
             return uType;
             break;
           case 'ninja':
             return uType;
             break;
           case 'hunter':
             return uType;
             break;
           case null:
             alert("Press F5 to Play Again.");
             document.getElementById("demo").innerHTML = "Press F5 to Play Again.";
             return 'cancel';
             break;
           default:
             alert("Invalid Entry\nPlease Press F5 to Play Again.");
             document.getElementById("demo").innerHTML = "Invalid Entry<br>Please Press F5 to Play Again.";
             return 'cancel';
         }
      }
      function loop2(){
         let p = prompt(`${uName}, would you like to play again, Yes or No?`);
         if(p===null||p.toLowerCase()==='no'){
         }else if(p===''){
           loop2();
         }else if(p.toLowerCase()==='yes'){
           loop1();
         }else{
           alert("Invalid Entry\nPlease Press F5 to Play Again.");
           document.getElementById("demo").innerHTML = "Invalid Entry<br>Please Press F5 to Play Again.";
         }
      }
      
      function selectResult(uType, sType){
        let match = uType.toLowerCase()+':'+sType.toLowerCase();
        let result = '';
            switch(match){
              case 'bear:ninja':
                result= 'win';
                break;
              case 'bear:hunter':
                result= 'loss';
                break;
              case 'bear:bear':
                result= 'tie';
                break;
              case 'ninja:ninja':
                result= 'tie';
                break;
              case 'ninja:hunter':
                result= 'win';
                break;
              case 'ninja:bear':
                result= 'loss';
                break;
              case 'hunter:ninja':
                result= 'loss';
                break;
              case 'hunter:hunter':
                result= 'tie';
                break;
              case 'hunter:bear':
                result= 'win';
                break;
              default:
                result= 'tie';
           }
           switch(result){
             case 'win':
                return 'You Win!!';
                break;
              case 'loss':
                return 'You Lose.';
                break;
              case 'tie':
                return 'You Tie.';
                break;
              default:
                return 'You Tie.';
            }
      }
    </script>
    <div class="wrapper">
      <div class="box8">
        <p><a href="index.html">Back to the Main Page</a>  <span style="float:right;">This page created as academic activity only.</span></p>
      </div>
    </div>
  </body>
</html>
